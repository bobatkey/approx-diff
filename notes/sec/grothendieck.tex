\subsection{Category of families}

\begin{definition}[Category of $I$-indexed families of objects]
For any set $I$ and any category $C$ write $\Fam(I,C)$ for the category where:
\begin{itemize}
\item objects are the $I$-indexed families of objects of $C$;
\item morphisms from $X$ to $Y$ are families of morphisms $f_i: X_i \to Y_i$ in $C$ for any $i \in I$.
\end{itemize}
\end{definition}

\noindent Equivalently $\Fam(I,C)$ is the functor category $\Func{I}{C}$, interpreting $I$ as a discrete
category.

\begin{definition}[Reindexing]
For any $f: I \to J$ the \emph{reindexing} functor $\reindex{-}{f}: \Fam(J,C) \to \Fam(I,C)$ sends any
$J$-indexed family $X$ to the $I$-indexed family $X[f]$ where $X[f]_i = X_{f(i)}$ for any $i \in I$, and
similarly for morphisms.
\end{definition}

\begin{definition}[$\Fam(-,C)$ functor]
$\Fam(-,C): \Set^{\op} \to \Cat$ is then the functor which sends any set $I$ to $\Fam(I,C)$ and any function
$f: I \to J$ to the functor $\reindex{-}{f}: \Fam(J,C) \to \Fam(I,C)$.
\end{definition}

\begin{definition}[Grothendieck construction for $F$]
Suppose a functor $F: D \to \Cat$. The \emph{Grothendieck construction} $\Grothendieck{D}F$ for $F$ is the
category where:
\begin{itemize}
\item objects are pairs $(I, X)$ of an object $I$ of $D$ and an object $X$ of $F(I)$;
\item morphisms from $(I, X)$ to $(J, Y)$ are morphisms $f: I \to J$ in $D$ paired with a morphism $F(f)(X)
\to Y$ in $F(J)$.
\end{itemize}
\end{definition}

\noindent When $F$ is contravariant, a morphism from $(I, X)$ to $(J, Y)$ is a morphism $f: I \to J$ in $D$
paired with a morphism $X \to F(f)(Y)$ in $F(I)$.

\begin{definition}[Category of families]
For any category $C$ define $\Fam(C)$ to be the Grothendieck construction
$\Grothendieck{\Set^{\op}}\Fam(-,C)$.
\end{definition}

In $\Fam(C)$ we then have that:
\begin{itemize}
\item objects are pairs $(I, X)$ of a set $I$ and an indexed family $X$ in $\Fam(I,C)$;
\item morphisms from $(I, X)$ to $(J, Y)$ are functions $f: I \to J$ paired with a morphism $X \to Y[f]$ in
$\Fam(I,C)$.
\end{itemize}

\begin{proposition}
\item
\begin{enumerate}
\item If $C$ is locally small then so is $\Fam(C)$.
\item If $C$ has binary products then so does $\Fam(C)$.
\end{enumerate}
\end{proposition}

\begin{proposition}
Suppose $C$ locally small. If $C$ has binary biproducts and set-indexed products, then $\Fam(C)$ is Cartesian
closed. \todo{Establish first that if $C$ has binary coproducts and set-indexed products, then $\Fam(C)$ is
symmetric monoidal, with the coproduct as monoidal product.}
\end{proposition}

\begin{proof}
Suppose $C$ is locally small, with binary biproducts given by $(\biprod,\inj,\proj)$ and set-indexed products
given by $(\prod,\eval_{\prod},\lambda_{\prod})$. For any objects $X = (I, X), Y = (J, Y)$ and $Z = (K, Z)$ in
$\Fam(C)$ define:

\begin{enumerate}
\item $[X, Y]$ to be the object $(\Fam(C)(X,Y),[X, Y])$ in $\Fam(C)$ where we also write $[X,Y]$ for the
indexed family which maps every $(f: I \to J, g: X \to \reindex{Y}{f}): X \to Y$ in $\Fam(C)$ to
$\prod_{I}\reindex{Y}{f}$.
\item The family of isomorphisms $\lambda_{X,Y,Z}$ (natural in $X$) which sends any morphism $f: X \times Y
\to Z$ to the morphism $g: X \to [Y, Z]$ with:
\begin{itemize}
\item $\idxf{g}(i) = (j \mapsto \idxf{f}(i, j): J \to K, j \mapsto \famf{f}_{i,j} \comp \inj_{Y_j}: Y \to
\reindex{Z}{j \mapsto \idxf{f}(i, j)})$ where $\inj_{Y_j}: Y_j \to X_i \biprod Y_j$
\item $\famf{g}(i) = \lambda_{\prod_{J}}(j \mapsto \famf{f}_{i, j} \comp \inj_{X_i})$ where $\inj_{X_i}: X_i
\to X_i \biprod Y_j$ for every $j \in J$
\end{itemize}
\item The family of morphisms $\eval_{X,Y}: [X, Y] \times X \to Y$ in $\Fam(C)$ with
\begin{itemize}
\item $\idxf{\eval}_{X,Y}((f, g), i) = f(i)$
\item $\famf{\eval}_{X,Y}((f, g), i) = \coprodM{{\eval_{\prod}}_i}{g_i}: \prod_{I}\reindex{Y}{f} \biprod X_i \to Y_{f(i)}$
\end{itemize}
using $\coprodM{-}{-}$ to denote coproduct of morphisms.
\end{enumerate}
Then for any $f: X \times Y \to Z$ in $\Fam(C)$ we have \todo{(prove these)}:
\begin{enumerate}
\item The following diagram commutes:

\begin{center}
\begin{tikzcd}
   {{[Y, Z]}} \tensor Y \arrow[dr, "\eval_{Y,Z}"] \\
   X \tensor Y \arrow[u, "\lambda_{X,Y,Z}(f) \tensor \id_Y"] \arrow[r, "f"'] & Z
\end{tikzcd}
\end{center}

\item $\lambda^{-1}_{X,Y,Z}(\lambda_{X,Y,Z}(f)) = f$
\end{enumerate}
\end{proof}
