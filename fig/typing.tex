\begin{figure}
  \begin{mathpar}
    \small
    \inferrule*
    {
      x : \tau \in \Gamma
    }
    {
      \Gamma \vdash x: \tau
    }
    \and
    \inferrule*
    {
      \phi \in \PrimOp^\rho_{\rho_1, \ldots, \rho_n}
      \\
      \Gamma \vdash t_i: \rho_i
      \quad
      (\forall i \in \{1..n\})
    }
    {
      \Gamma \vdash \phi(t_1, \ldots, t_n): \rho
    }
    \and
    \inferrule*
    {
      \Gamma \vdash t : \sigma
    }
    {
      \Gamma \vdash \tmInl{t}: \sigma \tySum \tau
    }
    \and
    \inferrule*
    {
      \Gamma \vdash t : \tau
    }
    {
      \Gamma \vdash \tmInr{t}: \sigma \tySum \tau
    }
    \and
    \inferrule*
    {
      \Gamma \vdash s : \sigma \tySum \tau
      \\
      \Gamma, x: \sigma \vdash t_1 : \tau'
      \\
      \Gamma, y : \tau \vdash t_2 : \tau'
    }
    {
      \Gamma \vdash \tmCase{s}{x}{t_1}{y}{t_2}: \tau'
    }
    \and
    \inferrule*
    {
      \strut
    }
    {
      \Gamma \vdash \tmUnit : \tyUnit
    }
    \and
    \inferrule*
    {
      \Gamma \vdash s : \sigma
      \\
      \Gamma \vdash t : \tau
    }
    {
      \Gamma \vdash \tmPair{s}{t}: \sigma \tyProd \tau
    }
    \and
    \inferrule*
    {
      \Gamma \vdash t : \sigma \tyProd \tau
    }
    {
      \Gamma \vdash \tmFst{t}: \sigma
    }
    \and
    \inferrule*
    {
      \Gamma \vdash t : \sigma \tyProd \tau
    }
    {
      \Gamma \vdash \tmSnd{t}: \tau
    }
    \and
    \inferrule*
    {
      \Gamma, x: \sigma \vdash t : \tau
    }
    {
      \Gamma \vdash \tmFun{x}{t}: \sigma \tyFun \tau
    }
    \and
    \inferrule*
    {
      \Gamma \vdash s: \sigma \tyFun \tau
      \\
      \Gamma \vdash t : \sigma
    }
    {
      \Gamma \vdash \tmApp{s}{t}: \tau
    }
%    \and
%    \inferrule*
%    {
%      \Gamma \vdash t : \subst{\tau}{\mu \alpha.\tau}{\alpha}
%    }
%    {
%      \Gamma \vdash \tmRoll{t}: \mu\alpha.\tau
%    }
%    \and
%    \inferrule*
%    {
%      \Gamma \vdash s : \subst{\sigma}{\tau}{\alpha} \tyFun \tau
%      \\
%      \Gamma \vdash t : \mu\alpha.\sigma
%    }
%    {
%      \Gamma \vdash \tmFold{s}{t} : \tau
%    }
    \and
    \inferrule*
    {
      \strut
    }
    {
      \Gamma \vdash \tmNil : \tyList\;\tau
    }
    \and
    \inferrule*
    {
      \Gamma \vdash s: \tau
      \\
      \Gamma \vdash t: \tyList\;\tau
    }
    {
      \Gamma \vdash \tmCons{s}{t} : \tyList\;\tau
    }
    \and
    \inferrule*
    {
      \Gamma \vdash s_1 : \tau
      \\
      \Gamma, x: \sigma, y: \tau \vdash s_2 : \tau
      \\
      \Gamma \vdash t : \tyList\;\sigma
    }
    {
      \Gamma \vdash \tmFoldList{s_1}{s_2}{t} : \tau
    }
    \and
    \inferrule*
    {
      \Gamma \vdash t : \tau
    }
    {
      \Gamma \vdash \tmReturn{t} : \tyLift\;\tau
    }
    \and
    \inferrule*
    {
      \Gamma \vdash s : \tyLift\;\sigma
      \\
      \Gamma \vdash t : \sigma \tyFun \tyLift\;\tau
    }
    {
      \Gamma \vdash \tmBind{s}{t} : \tyLift\;\tau
    }
  \end{mathpar}
\caption{Well-typed terms over $\Sigma$}
\label{fig:typing}
\end{figure}
